<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 05-objet-suite.html

        // dans un objet on peut stocker des valeurs number / string / boolean / tableau / objet

        const voiture = {
            marque : "Peugeot" ,
            modele : 206 ,
            controleTechnique : false ,
            options : ["abs" , "autre option"],
            proprietaire : {
                nom : "Alain" ,
                adresse : {
                    rue : "75 rue de Paris",
                    cp : 75000 ,
                    ville : "Paris"
                }
            }
        } ;
        // imbriquer un objet dans un objet dans un objet 
        // NodeJS 

        // chainage 
        console.log( voiture.proprietaire.adresse.cp ) // 75000
        // écrire dans laconsole la phrase suivante 
        // Alain a acheté une 206 et il va la garer à Paris

        console.log(`${voiture.proprietaire.nom} a acheté une ${voiture.modele} et il va la garer à ${voiture.proprietaire.adresse.ville}`)  ;      

        // -- dans un obet vous pouvez stocker des valeurs MAIS aussi des fonctions 

        const carre = { // contient 1 propriété et 2 méthodes 
            nom : "un carré" , // propriété de l'objet carre
        //  clé : valeur
            surface : function(){ // propriété surface stocke une fonction anonyme 
                                  // méthode => fonction stockée dans une objet 
            },
            perimetre(){ // ES6 nouvelle syntaxe de créer des méthodes 

            }
        }
        // carre => objet
        // "un carré" valeur de la propriété nom de l'objet carre 

        const rayon = 40 ;

        const cercle = {
            rayon : 20 ,
            surface(){
                // stocker des instructions 
                // si j'ai besoin d'utiliser une propriété de l'objet dans la méthode
                // this pseudo variable 
                return 3.14 * this.rayon ** 2 ;
                // return 3.14 * cercle.rayon ** 2 ;
            },
            perimetre(){
                return 2 * 3.14 * this.rayon // 2 * PI * rayon 
            }
        }

        // objet permet d'ORGANISER son code => regrouper dans des objets
        const article = {
            titre : "Premier article" ,
            contenu : "lorem ipsum" ,
            dtPublication : "15 Mars 2023",
           // rediger : function(){} 
            rediger(){ // existe QUE pour l'objet article 
            // traitement / la méthode n'existe que dans le cadre de l'objet article 
                return `${this.titre} \n ${this.contenu} \n publié le : ${this.dtPublication} `;
                //return `${article.titre} \n ${article.contenu} \n publié le : ${article.dtPublication} `;
            } 
        };

        console.log(article.dtPublication) ; 

        // exécuter la méthode stockée dans l'objet article 
        const nouvelArticle = article.rediger();
        console.log(nouvelArticle); 
        // 
        const titre = "Premier article" ;
        const contenu = "lorem ipsum"
        const dtPublication =  "15 Mars 2023";
        function rediger(){
            return `${titre} \n ${contenu} \n publié le : ${dtPublication} `;
        }


        const rectangle = { 
            largeur :200 ,  
            hauteur : 50 ,
            surface(){
                return ` un rectangle de largeur ${this.largeur} $ et de hauteur ${this.hauteur}  a une surface de            (${this.largeur} * $ et de hauteur $ })`
            }                 
        }
        // il faut faire attention à la ponctuation 
        // =  , ; : "  ` () { } ;

        // fonction de base 
        function a (){
        }
        const b = function(){ }

        // fonction dans un objet => méthode
        const c = {
            calcul : function(){}
        }
        const d = {
            division(){}
        }

        // https://www.pierre-giraud.com/javascript-apprendre-coder-cours/presentation-fonction/

        const rectangle2 = {
            largeur : 200 ,
            hauteur :  50 ,
            surface() {
                // return 200 * 50
                return this.largeur * this.hauteur
            } ,
            perimetre() {
                // return ` (200 + 50) /2 `
                return ` ${(this.largeur + this.hauteur) /2} `
            } ,
        }
        // this ne doit être utilisé QUE dans les méthodes dans des objets
        // le console.log() et hors de l'objet 
        //console.log(`this.surface`) ;
        console.log(rectangle2.surface()) ;
        //console.log(`this.perimetre`) ;
        console.log(rectangle2.perimetre()) ;


        const rectangle3={
        largeur:200,
        hauteut:50,
        surface(){
            //return `un rectangle de  largeur${rectongule.largeur} et de hauteur ${surface.largeur*heuteur}`;
            return `un rectangle de  largeur${this.largeur} et de hauteur ${this .largeur * this.hauteut}`;
            },
        périmetre(){
            //return `un rectangle de ${rectongule.largeur} a un périmetre de${(largeur+heuteur)*2}`
            return `un rectangle de ${this.largeur} a un périmetre de ${(this.largeur+ this.hauteut)*2}`
        }

        }
        const phrase= rectangle3.surface()
        const phrase1= rectangle3.périmetre()
        console.log(phrase)
        console.log(phrase1)




    </script>
    <script type="module">
        const rectangle = {
                largeur : 200,
                longueur : 50,
                surface(){
                return (this.largeur + this.longueur);
                },
                perimetre(){
                return (this.largeur + this.longueur) * 2;
                },
            }
            // TypeError: undefined has no properties
            //console.log(`Ce rectangle de ${rectangle.largeur} cm sur ${rectangle.longueur} cm a une surface de ${this.surface} cm et un perimetre de ${this.perimetre} cm`)
            console.log(`Ce rectangle de ${rectangle.largeur} cm sur ${rectangle.longueur} cm a une surface de ${rectangle.surface()} cm et un perimetre de ${rectangle.perimetre()} cm`)
    </script>
    <script type="module">
        const rectangle ={
        largeur : 200 ,
        hauteur : 50,
        surface (){
                 return (`un rectangle largeur ${this.largeur} et de hauteur ${this.hauteur} a une surface de  ${this.largeur * this.hauteur}` )
            } ,
            perimetre(){
                return (`un rectangle largeur ${this.largeur} et de hauteur ${this.hauteur} a un périmètre de ${(this.largeur + this.hauteur) / 2}`)
            }
        }
        const phrase = rectangle.surface()
        const phrase2 = rectangle.perimetre()
        console.log (phrase)
        console.log (phrase2)

    </script>
</body>
</html>
<!-- 
    créer le fichier 06-exo.html 

    créer objet qui s'appelle rectangle 
    cet objet contient 2 propriétés 
    largeur égale à 200
    hauteur égale à  50 

    cet objet dispose aussi de deux méthodes  :
    surface
        retourner le texte suivant :
        un rectangle de largeur 200 et de hauteur 50 a une surface de 1000

    perimetre
        retourner le texte suivant :
        un rectangle de largeur 200 et de hauteur 50 a un périmètre de 500

    exécuter la méthode surface et afficher son résultat dans la console
    exécuter la méthode perimetre et afficher son résultat dans la console
-->